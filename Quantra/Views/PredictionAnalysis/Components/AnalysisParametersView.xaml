<UserControl x:Class="Quantra.Controls.Components.AnalysisParametersView"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" 
             xmlns:d="http://schemas.microsoft.com/expression/blend/2008" 
             xmlns:materialDesign="http://materialdesigninxaml.net/winfx/xaml/themes"
             xmlns:local="clr-namespace:Quantra.Controls.Components"
             mc:Ignorable="d" 
             d:DesignHeight="120" d:DesignWidth="800"
             Background="#2D2D42">

    <UserControl.Resources>
        <ResourceDictionary>
            <ResourceDictionary.MergedDictionaries>
                <ResourceDictionary Source="/Quantra;component/Styles/EnhancedStyles.xaml" />
            </ResourceDictionary.MergedDictionaries>
        </ResourceDictionary>
    </UserControl.Resources>
    
    <Grid Margin="0,5">
        <Grid.ColumnDefinitions>
            <ColumnDefinition Width="*"/>
            <ColumnDefinition Width="*"/>
            <ColumnDefinition Width="Auto"/>
        </Grid.ColumnDefinitions>
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="Auto"/>
        </Grid.RowDefinitions>

        <!-- Symbol Selection -->
        <StackPanel Grid.Row="0" Grid.Column="0" Margin="10,5">
            <TextBlock Text="Symbol List:" Style="{StaticResource EnhancedTextBlockStyle}" Margin="0,5"/>
            <ComboBox x:Name="SymbolFilterComboBox" Margin="0,0,5,0"
                      Style="{StaticResource EnhancedComboBoxStyle}"
                      SelectionChanged="SymbolFilterComboBox_SelectionChanged">
                <ComboBoxItem Content="All Symbols" IsSelected="True"/>
                <ComboBoxItem Content="Top Market Cap" IsSelected="True"/>
                <ComboBoxItem Content="Tech Sector"/>
                <ComboBoxItem Content="Financial Sector"/>
                <ComboBoxItem Content="Healthcare Sector"/>
                <ComboBoxItem Content="Watchlist"/>
                <ComboBoxItem Content="Custom"/>
            </ComboBox>
        </StackPanel>

        <!-- Timeframe Selection -->
        <StackPanel Grid.Row="0" Grid.Column="1" Margin="10,5">
            <TextBlock Text="Timeframe:" Style="{StaticResource EnhancedTextBlockStyle}" Margin="0,5"/>
            <ComboBox x:Name="TimeframeComboBox" Margin="0,0,5,0"
                      Style="{StaticResource EnhancedComboBoxStyle}"
                      SelectionChanged="TimeframeComboBox_SelectionChanged">
                <ComboBoxItem Content="1 Day" Tag="1day"/>
                <ComboBoxItem Content="1 Week" Tag="1week" IsSelected="True"/>
                <ComboBoxItem Content="1 Month" Tag="1month" />
                <ComboBoxItem Content="3 Months" Tag="3month"/>
                <ComboBoxItem Content="1 Year" Tag="1year"/>
            </ComboBox>
        </StackPanel>

        <!-- Analyze Button -->
        <Button Grid.Row="0" Grid.Column="2" x:Name="AnalyzeButton" Content="Analyze" 
                Width="100" Height="30" Margin="10,25,10,0" 
                Click="AnalyzeButton_Click"
                Style="{StaticResource EnhancedButtonStyle}"/>

        <!-- Indicators Selection -->
        <StackPanel Grid.Row="1" Grid.Column="0" Grid.ColumnSpan="2" 
                  Orientation="Horizontal" Margin="10,10,10,10">
            <TextBlock Text="Indicators:" Style="{StaticResource EnhancedTextBlockStyle}" Margin="0,0,10,0" VerticalAlignment="Center"/>
            <WrapPanel>
                <CheckBox x:Name="VwapCheckBox" Content="VWAP" Style="{StaticResource EnhancedCheckBoxStyle}" Margin="5,0" IsChecked="True"
                          Checked="IndicatorCheckBox_Changed" Unchecked="IndicatorCheckBox_Changed"/>
                <CheckBox x:Name="MacdCheckBox" Content="MACD" Style="{StaticResource EnhancedCheckBoxStyle}" Margin="5,0" IsChecked="True"
                          Checked="IndicatorCheckBox_Changed" Unchecked="IndicatorCheckBox_Changed"/>
                <CheckBox x:Name="RsiCheckBox" Content="RSI" Style="{StaticResource EnhancedCheckBoxStyle}" Margin="5,0" IsChecked="True"
                          Checked="IndicatorCheckBox_Changed" Unchecked="IndicatorCheckBox_Changed"/>
                <CheckBox x:Name="BollingerCheckBox" Content="Bollinger" Style="{StaticResource EnhancedCheckBoxStyle}" Margin="5,0" IsChecked="True"
                          Checked="IndicatorCheckBox_Changed" Unchecked="IndicatorCheckBox_Changed"/>
                <CheckBox x:Name="MaCheckBox" Content="Moving Avg" Style="{StaticResource EnhancedCheckBoxStyle}" Margin="5,0" IsChecked="True"
                          Checked="IndicatorCheckBox_Changed" Unchecked="IndicatorCheckBox_Changed"/>
                <CheckBox x:Name="VolumeCheckBox" Content="Volume" Style="{StaticResource EnhancedCheckBoxStyle}" Margin="5,0" IsChecked="True"
                          Checked="IndicatorCheckBox_Changed" Unchecked="IndicatorCheckBox_Changed"/>
                <CheckBox x:Name="BreadthThrustCheckBox" Content="Breadth Thrust" Style="{StaticResource EnhancedCheckBoxStyle}" Margin="5,0" IsChecked="False"
                          Checked="IndicatorCheckBox_Changed" Unchecked="IndicatorCheckBox_Changed"/>
                <CheckBox x:Name="AdxCheckBox" Content="ADX" Style="{StaticResource EnhancedCheckBoxStyle}" Margin="5,0" IsChecked="False"
                          Checked="IndicatorCheckBox_Changed" Unchecked="IndicatorCheckBox_Changed"/>
                <CheckBox x:Name="RocCheckBox" Content="ROC" Style="{StaticResource EnhancedCheckBoxStyle}" Margin="5,0" IsChecked="False"
                          Checked="IndicatorCheckBox_Changed" Unchecked="IndicatorCheckBox_Changed"/>
                <CheckBox x:Name="UoCheckBox" Content="Ult. Osc" Style="{StaticResource EnhancedCheckBoxStyle}" Margin="5,0" IsChecked="False"
                          Checked="IndicatorCheckBox_Changed" Unchecked="IndicatorCheckBox_Changed"/>
                <CheckBox x:Name="BbpCheckBox" Content="Bull/Bear" Style="{StaticResource EnhancedCheckBoxStyle}" Margin="5,0" IsChecked="False"
                          Checked="IndicatorCheckBox_Changed" Unchecked="IndicatorCheckBox_Changed"/>
                <CheckBox x:Name="CciCheckBox" Content="CCI" Style="{StaticResource EnhancedCheckBoxStyle}" Margin="5,0" IsChecked="False"
                          Checked="IndicatorCheckBox_Changed" Unchecked="IndicatorCheckBox_Changed"/>
                <CheckBox x:Name="AtrCheckBox" Content="ATR" Style="{StaticResource EnhancedCheckBoxStyle}" Margin="5,0" IsChecked="False"
                          Checked="IndicatorCheckBox_Changed" Unchecked="IndicatorCheckBox_Changed"/>
                <CheckBox x:Name="WilliamsRCheckBox" Content="Williams %R" Style="{StaticResource EnhancedCheckBoxStyle}" Margin="5,0" IsChecked="False"
                          Checked="IndicatorCheckBox_Changed" Unchecked="IndicatorCheckBox_Changed"/>
                <CheckBox x:Name="StochCheckBox" Content="Stochastic" Style="{StaticResource EnhancedCheckBoxStyle}" Margin="5,0" IsChecked="False"
                          Checked="IndicatorCheckBox_Changed" Unchecked="IndicatorCheckBox_Changed"/>
                <CheckBox x:Name="StochRsiCheckBox" Content="Stoch RSI" Style="{StaticResource EnhancedCheckBoxStyle}" Margin="5,0" IsChecked="False"
                          Checked="IndicatorCheckBox_Changed" Unchecked="IndicatorCheckBox_Changed"/>
            </WrapPanel>
        </StackPanel>

        <!-- Minimum Confidence -->
        <StackPanel Grid.Row="1" Grid.Column="2" Orientation="Horizontal" Margin="10,10,10,10">
            <TextBlock Text="Min Confidence:" Style="{StaticResource EnhancedTextBlockStyle}" Margin="0,0,5,0" VerticalAlignment="Center"/>
            <ComboBox x:Name="ConfidenceComboBox" Width="60"
                      Style="{StaticResource EnhancedComboBoxStyle}"
                      SelectionChanged="ConfidenceComboBox_SelectionChanged">
                <ComboBoxItem Content="50%" Tag="0.5"/>
                <ComboBoxItem Content="60%" Tag="0.6" IsSelected="True"/>
                <ComboBoxItem Content="70%" Tag="0.7" />
                <ComboBoxItem Content="80%" Tag="0.8"/>
                <ComboBoxItem Content="90%" Tag="0.9"/>
            </ComboBox>
        </StackPanel>
    </Grid>
</UserControl>
